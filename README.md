# **–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∞–Ω—è —Ä–∞–±–æ—Ç–∞ ‚Ññ5 "–ó–∞–ø—É—Å–∫ —Å–∞–π—Ç–∞ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ"**

## –¶–µ–ª—å —Ä–∞–±–æ—Ç—ã

–í—ã–ø–æ–ª–Ω–∏–≤ –¥–∞–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É —Å—Ç—É–¥–µ–Ω—Ç —Å–º–æ–∂–µ—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –æ–±—Ä–∞–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤–µ–±-—Å–∞–π—Ç–∞ –Ω–∞ –±–∞–∑–µ Apache HTTP Server + PHP (mod_php) + MariaDB.

### –ó–∞–¥–∞–Ω–∏–µ

–°–æ–∑–¥–∞—Ç—å Dockerfile –¥–ª—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤–µ–±-—Å–∞–π—Ç –Ω–∞ –±–∞–∑–µ Apache HTTP Server + PHP (mod_php) + MariaDB. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö MariaDB –¥–æ–ª–∂–Ω–∞ —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ –º–æ–Ω—Ç–∏—Ä—É–µ–º–æ–º —Ç–æ–º–µ. –°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –ø–æ—Ä—Ç—É 8000.

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∞–π—Ç WordPress. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–∞–π—Ç–∞.

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–º–µ—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ Docker.

–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–º–µ—Ç—å –æ–ø—ã—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã ‚Ññ4.

### –û–ø–∏—Å–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã

1. –°–æ–∑–¥–∞–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `containers05` –∏ –∫–ª–æ–Ω–∏—Ä—É–µ–º –µ–≥–æ –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–º–∞–Ω–¥—É ```git clone``` –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –Ω–∞—à—É —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø–∞–ø–∫—É.
2. –°–æ–∑–¥–∞—ë–º –≤ –ø–∞–ø–∫–µ containers04 –ø–∞–ø–∫—É files, –∞ —Ç–∞–∫–∂–µ
    - –ø–∞–ø–∫—É files/apache2 - –¥–ª—è —Ñ–∞–π–ª–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ apache2;
    - –ø–∞–ø–∫—É files/php - –¥–ª—è —Ñ–∞–π–ª–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ php;
    - –ø–∞–ø–∫—É files/mariadb - –¥–ª—è —Ñ–∞–π–ª–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ mariadb.

3. –°–æ–∑–¥–∞—ë–º –≤ –ø–∞–ø–∫–µ containers05 —Ñ–∞–π–ª Dockerfile —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

  ```dockerfile
    # create from debian image
  FROM debian:latest

  # install apache2, php, mod_php for apache2, php-mysql and mariadb
  RUN apt-get update && \
      apt-get install -y apache2 php libapache2-mod-php php-mysql mariadb-server && \
      apt-get clean
  ```

4. –°—Ç—Ä–æ–∏–º –æ–±—Ä–∞–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å –∏–º–µ–Ω–µ–º apache2-php-mariadb, —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥–∞ `docker build -t apache2-php-mariadb .`
![Img-1](https://imgur.com/jSqbVdw.png)
–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä apache2-php-mariadb –∏–∑ –æ–±—Ä–∞–∑–∞ apache2-php-mariadb –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –µ–≥–æ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ —Å –∫–æ–º–∞–Ω–¥–æ–π –∑–∞–ø—É—Å–∫–∞ bash.
![Img-2](https://imgur.com/4q4GGgQ.png)
5. –ö–æ–ø–∏—Ä—É–µ–º –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ ```apache2, php, mariadb``` –≤ –ø–∞–ø–∫—É ```files/``` –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–º–∞–Ω–¥—ã:

```shell
docker cp apache2-php-mariadb:/etc/apache2/sites-available/000-default.conf files/apache2/
docker cp apache2-php-mariadb:/etc/apache2/apache2.conf files/apache2/
docker cp apache2-php-mariadb:/etc/php/8.2/apache2/php.ini files/php/
docker cp apache2-php-mariadb:/etc/mysql/mariadb.conf.d/50-server.cnf files/mariadb/
```
![Img-3](https://imgur.com/KGfvJlM.png)

6. –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ –≤ –ø–∞–ø–∫–µ files/ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ apache2, php, mariadb. –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏—Ö –Ω–∞–ª–∏—á–∏–µ.
![Img-4](https://imgur.com/T2xrBEB.png)
7. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ —É–¥–∞–ª–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä apache2-php-mariadb.
![Img-5](https://imgur.com/AIOOc0m.png)


### –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª ```apache2```:

- –û—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª ```files/apache2/000-default.conf```, –Ω–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É ```#ServerName www.example.com``` –∏ –∑–∞–º–µ–Ω–∏—Ç–µ –µ—ë –Ω–∞ ```ServerName localhost```.
- –ò—â–µ–º —Å—Ç—Ä–æ–∫—É ```ServerAdmin webmaster@localhost``` –∏ –º–µ–Ω—è–µ–º –≤ –Ω–µ–π –ø–æ—á—Ç–æ–≤—ã–π –∞–¥—Ä–µ—Å –Ω–∞ —Å–≤–æ–π.
- –ü–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ ```DocumentRoot /var/www/html``` –¥–æ–±–∞–≤–ª—è–µ–º —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏: ```DirectoryIndex index.php index.html```
- –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–∞–π–ª –∏ –∑–∞–∫—Ä—ã–≤–∞–µ–º.
- –í –∫–æ–Ω—Ü–µ —Ñ–∞–π–ª–∞ ```files/apache2/apache2.conf``` –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–æ–∫—É: ```ServerName localhost```

2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª ```php```:

- –û—Ç–∫—Ä—ã–≤–µ–º —Ñ–∞–π–ª ```files/php/php.ini```, –∏—â–µ–º —Å—Ç—Ä–æ–∫—É ```;error_log = php_errors.log``` –∏ –º–µ–Ω—è–µ–º –µ—ë –Ω–∞ ```error_log = /var/log/php_errors.log```.
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ```memory_limit, upload_max_filesize, post_max_size``` –∏ ```max_execution_time``` —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

   ```shell
   memory_limit = 128M
   upload_max_filesize = 128M
   post_max_size = 128M
   max_execution_time = 120
   ```

- –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–∞–π–ª –∏ –∑–∞–∫—Ä—ã–≤–∞–µ–º –µ–≥–æ.

3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª ```mariadb```:

- –û—Ç–∫—Ä—ã–≤–µ–º —Ñ–∞–π–ª ```files/mariadb/50-server.cnf```, –∏—â–µ–º —Å—Ç—Ä–æ–∫—É ```#log_error = /var/log/mysql/error.log``` –∏ —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—É–µ–º –µ—ë.
- –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–∞–π–ª –∏ –∑–∞–∫—Ä—ã–≤–∞–µ–º –µ–≥–æ.

4. –°–æ–∑–¥–∞–µ–º —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞:
-–°–æ–∑–¥–∞–µ–º –≤ –ø–∞–ø–∫–µ ```files``` –ø–∞–ø–∫—É ```supervisor``` –∏ —Ñ–∞–π–ª ```supervisord.conf``` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

```shell
[supervisord]
nodaemon=true
logfile=/dev/null
user=root

# apache2
[program:apache2]
command=/usr/sbin/apache2ctl -D FOREGROUND
autostart=true
autorestart=true
startretries=3
stderr_logfile=/proc/self/fd/2
user=root

# mariadb
[program:mariadb]
command=/usr/sbin/mariadbd --user=mysql
autostart=true
autorestart=true
startretries=3
stderr_logfile=/proc/self/fd/2
user=mysql
```

5. –°–æ–∑–¥–∞–µ–º ```Dockerfile```:  
–û—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª Dockerfile –∏ –¥–æ–±–∞–≤–ª—è–µ–º –≤ –Ω–µ–≥–æ —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏:

- –ø–æ—Å–ª–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ FROM ... –¥–æ–±–∞–≤–ª—è–µ–º –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–º–æ–≤:

```shell
# mount volume for mysql data
VOLUME /var/lib/mysql

# mount volume for logs
VOLUME /var/log
```

- –≤ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ RUN ... –¥–æ–±–∞–≤–ª—è–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫—É –ø–∞–∫–µ—Ç–∞ supervisor.
- –ø–æ—Å–ª–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ RUN ... –¥–æ–±–∞–≤–ª—è–µ–º –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–∞—Å–ø–∞–∫–æ–≤–∫—É —Å–∞–π—Ç–∞ WordPress:

```shell
# add wordpress files to /var/www/html
ADD https://wordpress.org/latest.tar.gz /var/www/html/
```

- –ø–æ—Å–ª–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ WordPress –¥–æ–±–∞–≤–ª—è–µ–º –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ apache2, php, mariadb, –∞ —Ç–∞–∫–∂–µ —Å–∫—Ä–∏–ø—Ç–∞ –∑–∞–ø—É—Å–∫–∞:

```shell
# copy the configuration file for apache2 from files/ directory
COPY files/apache2/000-default.conf /etc/apache2/sites-available/000-default.conf
COPY files/apache2/apache2.conf /etc/apache2/apache2.conf

# copy the configuration file for php from files/ directory
COPY files/php/php.ini /etc/php/8.2/apache2/php.ini

# copy the configuration file for mysql from files/ directory
COPY files/mariadb/50-server.cnf /etc/mysql/mariadb.conf.d/50-server.cnf

# copy the supervisor configuration file
COPY files/supervisor/supervisord.conf /etc/supervisor/supervisord.conf
```

–¥–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è mariadb —Å–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É /var/run/mysqld –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –Ω–µ—ë:

```shell
# create mysql socket directory
RUN mkdir /var/run/mysqld && chown mysql:mysql /var/run/mysqld
```

- –æ—Ç–∫—Ä—ã–≤–∞–µ–º –ø–æ—Ä—Ç 80.
  `# Expose port 80 for Apache
EXPOSE 80
`
- –¥–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–∞–Ω–¥—É –∑–∞–ø—É—Å–∫–∞ *supervisord*:

```shell
# start supervisor
CMD ["/usr/bin/supervisord", "-n", "-c", "/etc/supervisor/supervisord.conf"]
```

6. –°–æ–±–µ—Ä–∞–µ–º Docker-–æ–±—Ä–∞–∑ `docker build -t apache2-php-mariadb` .
![Img-6](https://imgur.com/lI7itlb.png)
![Img-7](https://imgur.com/uoIKL4q.png)
–ó–∞–ø—É—Å–∫–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–∑ –æ–±—Ä–∞–∑–∞ `docker run -d --name apache2-php-mariadb -p 80:80 apache2-php-mariadb`.
![Img-8](https://imgur.com/AT7u91d.png)

### –°–æ–∑–¥–∞–µ–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–°–æ–∑–¥–∞–µ–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö *wordpress* –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è *wordpress* —Å –ø–∞—Ä–æ–ª–µ–º *wordpress* –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ *apache2-php-mariadb*. –¥–ª—è —ç—Ç–æ–≥–æ –≤—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–º–∞–Ω–¥—É: `docker exec -it apache2-php-mariadb mysql -u root -p `

```sql
CREATE DATABASE wordpress;
CREATE USER 'wordpress'@'localhost' IDENTIFIED BY 'wordpress';
GRANT ALL PRIVILEGES ON wordpress.* TO 'wordpress'@'localhost';
FLUSH PRIVILEGES;
EXIT;
```
![Img-9](https://imgur.com/NKSNsSU.png)

#### –°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ WordPress

1. –û—Ç–∫—Ä—ã–≤–∞–µ–º –≤ –±—Ä–∞—É–∑–µ—Ä–µ —Å–∞–π—Ç WordPress –ø–æ –∞–¥—Ä–µ—Å—É *<http://localhost/8080>*, —É–∫–∞–∑—ã–≤–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.  
![Img-10](https://imgur.com/9gOliwq.png)

2. –ö–æ–ø–∏—Ä—É–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ —Ñ–∞–π–ª *files/wp-config.php* –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ ` docker cp apache2-php-mariadb:/var/www/html/wp-config.php ./files/wp-config.php`.
   
![Img-11](https://imgur.com/UtLsKyo.png)
![Img-12](https://imgur.com/Ak3sVc7.png)
![Img-13](https://imgur.com/pX46ZWs.png)

### –î–æ–±–∞–≤–∏–º —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ WordPress –≤ Dockerfile

–î–æ–±–∞–≤–ª—è–µ–º –≤ —Ñ–∞–π–ª Dockerfile —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏:

 ```shell
# copy the configuration file for wordpress from files/ directory
COPY files/wp-config.php /var/www/html/wordpress/wp-config.php
```

### –ó–∞–ø—É—Å–∫ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ–º –æ–±—Ä–∞–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å –∏–º–µ–Ω–µ–º *apache2-php-mariadb* –∏ –∑–∞–ø—É—Å–∫–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä *apache2-php-mariadb* –∏–∑ –æ–±—Ä–∞–∑–∞ *apache2-php-mariadb.* –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–±–æ—Ç—É —Å–∞–π—Ç–∞ WordPress.
![Img-14](https://imgur.com/NJctznp.png)
![Img-15](https://imgur.com/qcz91RK.png)

### –í—ã–≤–æ–¥

–í –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–±–æ—Ç—ã –±—ã–ª —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –∏–º–µ–Ω–µ–º apache2-php-mariadb, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å—Ä–µ–¥—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å WordPress, –≤–∫–ª—é—á–∞—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä Apache, PHP –∏ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö MariaDB. –î–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –±—ã–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω –º–æ–Ω—Ç–∏—Ä—É–µ–º—ã–π —Ç–æ–º –¥–ª—è MariaDB. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Apache —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π PHP, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è WordPress, –∞ —Ç–∞–∫–∂–µ –∑–∞–ø—É—Å–∫ –≤–µ–±-—Å–∞–π—Ç–∞ –Ω–∞ –µ–≥–æ –æ—Å–Ω–æ–≤–µ. 

### –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã

1. –ë—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

- ```files/apache2/000-default.conf```‚Äì –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Ö–æ—Å—Ç–∞ Apache.
- ```files/apache2/apache2.conf``` ‚Äì –æ–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Apache.
- ```files/php/php.ini``` ‚Äì –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è PHP.
- ```files/mariadb/50-server.cnf``` ‚Äì –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è MariaDB.
- ```files/supervisor/supervisord.conf``` ‚Äì –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å-–º–µ–Ω–µ–¥–∂–µ—Ä–∞ Supervisor.
- ```files/wp-config.php``` ‚Äì –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª WordPress.

2. –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è `DirectoryIndex` —É–∫–∞–∑—ã–≤–∞–µ—Ç —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π Apache –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –∫–∞—Ç–∞–ª–æ–≥—É. –í –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç–µ –æ–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ `index.php` `index.html`, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç WordPress —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

3. –§–∞–π–ª `wp-config.php` –Ω—É–∂–µ–Ω –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ WordPress. –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö ‚Äì —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–º—è –ë–î, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –ø–∞—Ä–æ–ª—å, —Ö–æ—Å—Ç.
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚Äì —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏ –¥–ª—è –∑–∞—â–∏—Ç—ã —Å–µ—Å—Å–∏–π.
- –ü—Ä–µ—Ñ–∏–∫—Å—ã —Ç–∞–±–ª–∏—Ü ‚Äì –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ë–î –∏ –ø–æ–≤—ã—à–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ—Ç–ª–∞–¥–∫–∏ ‚Äì –≤–∫–ª—é—á–∞–µ—Ç/–≤—ã–∫–ª—é—á–∞–µ—Ç —Ä–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ (WP_DEBUG).
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Äì —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–µ—à–µ–º, —è–∑—ã–∫–æ–º, –ø—É—Ç—è–º–∏ –∏ API.

4. –ü–∞—Ä–∞–º–µ—Ç—Ä ```post_max_size``` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ –æ–¥–Ω–æ–º *POST*-–∑–∞–ø—Ä–æ—Å–µ.
5. –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:

- **–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≤ –æ–¥–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ** ‚Äì –ª—É—á—à–µ —Ä–∞–∑–¥–µ–ª–∏—Ç—å Apache+PHP –∏ MariaDB —Å –ø–æ–º–æ—â—å—é `docker-compose`.
-  **–•—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π –≤ –æ–±—Ä–∞–∑–µ** ‚Äì –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∏—Ö —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.
-   **–ë–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞** ‚Äì –≤–º–µ—Å—Ç–æ `debian:latest` –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `debian-slim` –∏–ª–∏ `alpine`. üöÄ
